<IfModule !proxy_module>
    LoadModule proxy_module modules/mod_proxy.so
</IfModule>

SSLProxyEngine on
ProxyPass /oe2-date-service-proxy-localhost http://localhost/date_service/date
ProxyPassReverse /oe2-date-service-proxy-localhost http://localhost/date_service/date

<IfModule !mrf_module>
   LoadModule mrf_module modules/mod_mrf.so
</IfModule>

<IfModule !wmts_wrapper_module>
        LoadModule wmts_wrapper_module modules/mod_wmts_wrapper.so
</IfModule>

<IfModule !receive_module>
        LoadModule receive_module modules/mod_receive.so
</IfModule>

<Directory /build/test/ci_tests/layer_config_endpoint/>
        WMTSWrapperRole root
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_versioned_colormaps>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_versioned_colormaps/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_versioned_colormaps/default/2km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_versioned_colormaps/default/2km/mod_mrf.config
        MRF_RegExp test_versioned_colormaps
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias test_versioned_colormaps
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_static_jpg>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_static_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime Off
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_static_jpg/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_static_jpg/default/16km/mod_mrf.config
        MRF_RegExp test_static_jpg
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias test_static_jpg
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_daily_png>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_daily_png/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_daily_png/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_daily_png/default/16km/mod_mrf.config
        MRF_RegExp test_daily_png
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias test_daily_png
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_legacy_subdaily_jpg>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_legacy_subdaily_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_legacy_subdaily_jpg/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_legacy_subdaily_jpg/default/16km/mod_mrf.config
        MRF_RegExp test_legacy_subdaily_jpg
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias test_legacy_subdaily_jpg
</Directory>

<IfModule !twms_module>
    LoadModule twms_module modules/mod_twms.so
</IfModule>

<Directory /build/test/ci_tests/layer_config_endpoint/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /build/test/ci_tests/layer_config_endpoint//twms/{layer}/twms.config
</Directory>
