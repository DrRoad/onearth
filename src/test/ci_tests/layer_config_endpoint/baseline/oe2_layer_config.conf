<IfModule !proxy_module>
    LoadModule proxy_module modules/mod_proxy.so
</IfModule>

SSLProxyEngine on
ProxyPass /oe2-date-service-proxy-localhost http://localhost/date_service/date
ProxyPassReverse /oe2-date-service-proxy-localhost http://localhost/date_service/date

<IfModule !mrf_module>
   LoadModule mrf_module modules/mod_mrf.so
</IfModule>

<IfModule !wmts_wrapper_module>
        LoadModule wmts_wrapper_module modules/mod_wmts_wrapper.so
</IfModule>

<IfModule !receive_module>
        LoadModule receive_module modules/mod_receive.so
</IfModule>

<Directory /build/test/ci_tests/layer_config_endpoint/>
        WMTSWrapperRole root
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_daily_png>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_daily_png/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_daily_png/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_daily_png/default/16km/mod_mrf.config
        MRF_RegExp test_daily_png
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias test_daily_png
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_legacy_subdaily_jpg>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_legacy_subdaily_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_legacy_subdaily_jpg/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_legacy_subdaily_jpg/default/16km/mod_mrf.config
        MRF_RegExp test_legacy_subdaily_jpg
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias test_legacy_subdaily_jpg
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_static_jpg>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_static_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime Off
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_static_jpg/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_static_jpg/default/16km/mod_mrf.config
        MRF_RegExp test_static_jpg
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias test_static_jpg
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_versioned_colormaps>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_versioned_colormaps/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_versioned_colormaps/default/2km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_versioned_colormaps/default/2km/mod_mrf.config
        MRF_RegExp test_versioned_colormaps
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias test_versioned_colormaps
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6c>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6c/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6c/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_6c/default/16km/mod_mrf.config
        MRF_RegExp snap_test_6c
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias snap_test_6c
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7a>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7a/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7a/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_7a/default/16km/mod_mrf.config
        MRF_RegExp snap_test_7a
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias snap_test_7a
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_weekly_jpg>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_weekly_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_weekly_jpg/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_weekly_jpg/default/16km/mod_mrf.config
        MRF_RegExp test_weekly_jpg
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias test_weekly_jpg
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_nonyear_jpg>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_nonyear_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//test_nonyear_jpg/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/test_nonyear_jpg/default/16km/mod_mrf.config
        MRF_RegExp test_nonyear_jpg
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias test_nonyear_jpg
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_2a>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_2a/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_2a/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_2a/default/16km/mod_mrf.config
        MRF_RegExp snap_test_2a
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_2a
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3a>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3a/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3a/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_3a/default/16km/mod_mrf.config
        MRF_RegExp snap_test_3a
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_3a
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3b>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3b/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3b/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_3b/default/16km/mod_mrf.config
        MRF_RegExp snap_test_3b
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_3b
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4a>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4a/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4a/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_4a/default/16km/mod_mrf.config
        MRF_RegExp snap_test_4a
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_4a
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7c>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7c/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7c/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_7c/default/16km/mod_mrf.config
        MRF_RegExp snap_test_7c
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias snap_test_7c
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_1a>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_1a/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_1a/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_1a/default/16km/mod_mrf.config
        MRF_RegExp snap_test_1a
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_1a
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3c>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3c/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3c/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_3c/default/16km/mod_mrf.config
        MRF_RegExp snap_test_3c
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_3c
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3d>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3d/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_3d/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_3d/default/16km/mod_mrf.config
        MRF_RegExp snap_test_3d
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_3d
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7b>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7b/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_7b/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_7b/default/16km/mod_mrf.config
        MRF_RegExp snap_test_7b
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias snap_test_7b
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_5a>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_5a/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_5a/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_5a/default/16km/mod_mrf.config
        MRF_RegExp snap_test_5a
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_5a
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6a>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6a/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6a/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_6a/default/16km/mod_mrf.config
        MRF_RegExp snap_test_6a
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias snap_test_6a
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6b>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6b/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_6b/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_6b/default/16km/mod_mrf.config
        MRF_RegExp snap_test_6b
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias snap_test_6b
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_year_boundary>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_year_boundary/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_year_boundary/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_year_boundary/default/16km/mod_mrf.config
        MRF_RegExp snap_test_year_boundary
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_year_boundary
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4b>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4b/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4b/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_4b/default/16km/mod_mrf.config
        MRF_RegExp snap_test_4b
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_4b
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4c>
    WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4c/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_endpoint//snap_test_4c/default/16km>
        MRF On
        MRF_ConfigurationFile /build/test/ci_tests/layer_config_endpoint/snap_test_4c/default/16km/mod_mrf.config
        MRF_RegExp snap_test_4c
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir Off
        WMTSWrapperLayerAlias snap_test_4c
</Directory>

<IfModule !twms_module>
    LoadModule twms_module modules/mod_twms.so
</IfModule>

<Directory /build/test/ci_tests/layer_config_endpoint/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /build/test/ci_tests/layer_config_endpoint//twms/{layer}/twms.config
</Directory>
