<IfModule !mrf_module>
   LoadModule mrf_module modules/mod_mrf.so
</IfModule>

<IfModule !wmts_wrapper_module>
        LoadModule wmts_wrapper_module modules/mod_wmts_wrapper.so
</IfModule>

<IfModule !receive_module>
        LoadModule receive_module modules/mod_receive.so
</IfModule>

<IfModule !reproject_module>
        LoadModule reproject_module modules/mod_reproject.so
</IfModule>

<IfModule !proxy_module>
    LoadModule proxy_module modules/mod_proxy.so
</IfModule>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint>
        WMTSWrapperRole root
</Directory>

Alias "/oe2-wmts-endpoint" "/build/test/ci_tests/layer_config_reproject_endpoint"

SSLProxyEngine on
ProxyPass /oe2-reproject-proxy-http-localhost http://localhost
ProxyPassReverse /oe2-reproject-proxy-http-localhost http://localhost

SSLProxyEngine on
ProxyPass /oe2-date-service-proxy-localhost http://localhost/date_service/date
ProxyPassReverse /oe2-date-service-proxy-localhost http://localhost/date_service/date

<IfModule !twms_module>
    LoadModule twms_module modules/mod_twms.so
</IfModule>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_versioned_colormaps>
        WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_versioned_colormaps/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_versioned_colormaps/default/GoogleMapsCompatible_Level6>
        Reproject_ConfigurationFiles /build/test/ci_tests/layer_config_reproject_endpoint/test_versioned_colormaps/default/GoogleMapsCompatible_Level6/source.config /build/test/ci_tests/layer_config_reproject_endpoint/test_versioned_colormaps/default/GoogleMapsCompatible_Level6/reproject.config
        Reproject_RegExp test_versioned_colormaps
        WMTSWrapperRole tilematrixset
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /build/test/ci_tests/layer_config_reproject_endpoint/twms/{layer}/twms.config
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_static_jpg>
        WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_static_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime Off
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_static_jpg/default/GoogleMapsCompatible_Level3>
        Reproject_ConfigurationFiles /build/test/ci_tests/layer_config_reproject_endpoint/test_static_jpg/default/GoogleMapsCompatible_Level3/source.config /build/test/ci_tests/layer_config_reproject_endpoint/test_static_jpg/default/GoogleMapsCompatible_Level3/reproject.config
        Reproject_RegExp test_static_jpg
        WMTSWrapperRole tilematrixset
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /build/test/ci_tests/layer_config_reproject_endpoint/twms/{layer}/twms.config
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_daily_png>
        WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_daily_png/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_daily_png/default/GoogleMapsCompatible_Level3>
        Reproject_ConfigurationFiles /build/test/ci_tests/layer_config_reproject_endpoint/test_daily_png/default/GoogleMapsCompatible_Level3/source.config /build/test/ci_tests/layer_config_reproject_endpoint/test_daily_png/default/GoogleMapsCompatible_Level3/reproject.config
        Reproject_RegExp test_daily_png
        WMTSWrapperRole tilematrixset
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /build/test/ci_tests/layer_config_reproject_endpoint/twms/{layer}/twms.config
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_legacy_subdaily_jpg>
        WMTSWrapperRole layer
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_legacy_subdaily_jpg/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/oe2-date-service-proxy-localhost"
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint/test_legacy_subdaily_jpg/default/GoogleMapsCompatible_Level3>
        Reproject_ConfigurationFiles /build/test/ci_tests/layer_config_reproject_endpoint/test_legacy_subdaily_jpg/default/GoogleMapsCompatible_Level3/source.config /build/test/ci_tests/layer_config_reproject_endpoint/test_legacy_subdaily_jpg/default/GoogleMapsCompatible_Level3/reproject.config
        Reproject_RegExp test_legacy_subdaily_jpg
        WMTSWrapperRole tilematrixset
</Directory>

<Directory /build/test/ci_tests/layer_config_reproject_endpoint>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /build/test/ci_tests/layer_config_reproject_endpoint/twms/{layer}/twms.config
</Directory>
