# Sample configuration for serving MODIS.

# START MODULE CONFIG (NOT NECESSARY IF LOADED ELSEWHWERE)
# Load necessary Apache modules
<IfModule !proxy_module>
    LoadModule proxy_module modules/mod_proxy.so
</IfModule>

# Serves MRFs from local disk or remote source
<IfModule !mrf_module>
   LoadModule mrf_module modules/mod_mrf.so
</IfModule>

# Serves MRFs from local disk or remote source
<IfModule !reproject_module>
   LoadModule reproject_module modules/mod_reproject.so
</IfModule>

# Handles error messages and WMTS protocol stuff for mod_mrf and mod_reproject
<IfModule !wmts_wrapper_module>
        LoadModule wmts_wrapper_module modules/mod_wmts_wrapper.so
</IfModule>

# Module used internally by all the other OE2 modules
<IfModule !receive_module>
        LoadModule receive_module modules/mod_receive.so
</IfModule>

# Module for TWMS support
<IfModule !twms_module>
    LoadModule twms_module modules/mod_twms.so
</IfModule>

<IfModule !sfim_module>
   LoadModule sfim_module modules/mod_sfim.so
</IfModule>

# END MODULE CONFIG

# Configure gibs-status rewrite rule
<IfModule !rewrite_module>
    LoadModule rewrite_module modules/mod_rewrite.so
</IfModule>
RewriteEngine On
RewriteRule    ^/gibs-status/?$    http://localhost/wmts/epsg3857/all/wmts.cgi?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=ASTER_L1T_Radiance_Terrain_Corrected_v3_STD&STYLE=&TILEMATRIXSET=GoogleMapsCompatible_Level13&TILEMATRIX=2&TILEROW=1&TILECOL=3&FORMAT=image/png&TIME=1970-01-01T00:00:00Z    [NC,P]

# START S3 PROXY SETUP
# Proxy setup: if using MRF data files located on a remote server (i.e. S3), that server needs to be proxied to a local
# path for mod_mrf to access it, i.e.:
# ProxyPass {local_endpoint} {full path of remote endpoint}
SSLProxyEngine on
ProxyPass /s3 {S3_URL}
ProxyPassReverse /s3 {S3_URL}
# ProxyPass /s3 http://gitc-test-imagery.s3.amazonaws.com
# ProxyPassReverse /s3 http://gitc-test-imagery.s3.amazonaws.com
# END S3 PROXY SETUP

# START DATE SERVICE PROXY SETUP 
SSLProxyEngine on
ProxyPass /date_service http://oe2-date-service
ProxyPassReverse /date_service http://oe2-date-service
# END DATE SERVICE PROXY SETUP 

# EPSG:4326

<Directory /var/www/html/wmts/epsg4326/all>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg4326/all/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Sea_Ice_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Sea_Ice_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Sea_Ice_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_Sea_Ice_v6_STD.config
        MRF_RegExp MODIS_Aqua_Sea_Ice_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Sea_Ice_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default/250m>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD.config
        MRF_RegExp MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD_4326.config
        MRF_RegExp MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD_4326.config
        MRF_RegExp MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD/default/250m>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD_4326.config
        MRF_RegExp MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/best>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg4326/best/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg4326/best/MODIS_Aqua_Sea_Ice_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/best/MODIS_Aqua_Sea_Ice_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/best/MODIS_Aqua_Sea_Ice_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_Sea_Ice_v6_STD.config
        MRF_RegExp MODIS_Aqua_Sea_Ice_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Sea_Ice_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/std>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg4326/std/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default/250m>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD.config
        MRF_RegExp MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD_4326.config
        MRF_RegExp MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Brightness_Temp_Band31_Day_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg4326/std/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg4326/configs/MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD_4326.config
        MRF_RegExp MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Brightness_Temp_Band31_Night_v6_STD
</Directory>

# EPSG:3857 reproject

<Directory /var/www/html/wmts/epsg3857/all>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg3857/all/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg3857/all/MODIS_Aqua_Sea_Ice_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3857/all/MODIS_Aqua_Sea_Ice_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3857/all/MODIS_Aqua_Sea_Ice_v6_STD/default/GoogleMapsCompatible_Level7>
        Reproject_ConfigurationFiles /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_Sea_Ice_v6_STD_source.config /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_Sea_Ice_v6_STD_reproject.config
        Reproject_RegExp MODIS_Aqua_Sea_Ice_v6_STD
        WMTSWrapperRole tilematrixset
</Directory>

<Directory /var/www/html/wmts/epsg3857/all/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3857/all/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3857/all/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default/GoogleMapsCompatible_Level9>
        Reproject_ConfigurationFiles /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD_source.config /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD_reproject.config
        Reproject_RegExp MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD
        WMTSWrapperRole tilematrixset
</Directory>

<Directory /var/www/html/wmts/epsg3857/best>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg3857/best/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg3857/best/MODIS_Aqua_Sea_Ice_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3857/best/MODIS_Aqua_Sea_Ice_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3857/best/MODIS_Aqua_Sea_Ice_v6_STD/default/GoogleMapsCompatible_Level7>
        Reproject_ConfigurationFiles /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_Sea_Ice_v6_STD_source.config /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_Sea_Ice_v6_STD_reproject.config
        Reproject_RegExp MODIS_Aqua_Sea_Ice_v6_STD
        WMTSWrapperRole tilematrixset
</Directory>

<Directory /var/www/html/wmts/epsg3857/std>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg3857/std/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg3857/std/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3857/std/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3857/std/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD/default/GoogleMapsCompatible_Level9>
        Reproject_ConfigurationFiles /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD_source.config /var/www/html/wmts/epsg3857/configs/MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD_reproject.config
        Reproject_RegExp MODIS_Aqua_SurfaceReflectance_Bands121_v6_STD
        WMTSWrapperRole tilematrixset
</Directory>

# EPSG:3031

<Directory /var/www/html/wmts/epsg3031/all>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg3031/all/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_Sea_Ice_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_Sea_Ice_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_Sea_Ice_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg3031/configs/MODIS_Aqua_Sea_Ice_v6_STD_3031.config
        MRF_RegExp MODIS_Aqua_Sea_Ice_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Sea_Ice_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD/default/250m>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg3031/configs/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD_3031.config
        MRF_RegExp MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3031/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD/default/250m>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg3031/configs/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD_3031.config
        MRF_RegExp MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD
</Directory>

# EPSG:3413

<Directory /var/www/html/wmts/epsg3413/all>
        WMTSWrapperRole root
        SendFileIfMatch /var/www/html/wmts/epsg3413/all/1.0.0/WMTSCapabilities.xml GetCapabilities text/xml
        Header set Access-Control-Allow-Origin "*"
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_Sea_Ice_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_Sea_Ice_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_Sea_Ice_v6_STD/default/1km>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg3413/configs/MODIS_Aqua_Sea_Ice_v6_STD_3413.config
        MRF_RegExp MODIS_Aqua_Sea_Ice_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_Sea_Ice_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD/default/250m>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg3413/configs/MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD_3413.config
        MRF_RegExp MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_CorrectedReflectance_TrueColor_v6_STD
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD>
        WMTSWrapperRole layer
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD/default>
        WMTSWrapperRole style
        WMTSWrapperEnableTime On
        WMTSWrapperTimeLookupUri "/date_service/date"
</Directory>

<Directory /var/www/html/wmts/epsg3413/all/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD/default/250m>
        MRF On
        MRF_ConfigurationFile /var/www/html/wmts/epsg3413/configs/MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD_3413.config
        MRF_RegExp MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD
        WMTSWrapperRole tilematrixset
        WMTSWrapperEnableYearDir On
        WMTSWrapperLayerAlias MODIS_Aqua_CorrectedReflectance_Bands721_v6_STD
</Directory>

# TWMS Configs

<Directory /var/www/html/twms/epsg4326/all/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /var/www/html/twms/epsg4326/configs/${layer}/twms.config
</Directory>

<Directory /var/www/html/twms/epsg4326/best/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /var/www/html/twms/epsg4326/configs/${layer}/twms.config
</Directory>

<Directory /var/www/html/twms/epsg4326/std/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /var/www/html/twms/epsg4326/configs/${layer}/twms.config
</Directory>

<Directory /var/www/html/twms/epsg3857/all/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /var/www/html/twms/epsg3857/configs/${layer}/twms.config
</Directory>

<Directory /var/www/html/twms/epsg3857/best/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /var/www/html/twms/epsg3857/configs/${layer}/twms.config
</Directory>

<Directory /var/www/html/twms/epsg3857/std/>
        tWMS_RegExp twms.cgi
        tWMS_ConfigurationFile /var/www/html/twms/epsg3857/configs/${layer}/twms.config
</Directory>

# END LAYER CONFIG BLOCK